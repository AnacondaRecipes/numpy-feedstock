From bab0c05d448bb52b91e91f61abe6e069dd942770 Mon Sep 17 00:00:00 2001
From: fwaters <fwaters@anaconda.com>
Date: Mon, 16 Sep 2019 14:17:27 +0000
Subject: [PATCH 17/22] Remove ICC specific flags

---
 numpy/core/setup.py | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

diff --git a/numpy/core/setup.py b/numpy/core/setup.py
index 930383a4a..7f58a9546 100644
--- a/numpy/core/setup.py
+++ b/numpy/core/setup.py
@@ -944,12 +944,13 @@ def configuration(parent_package='',top_path=None):
             join(codegen_dir, 'generate_ufunc_api.py'),
             ]
 
-    if platform.system() == "Windows":
-        eca = ['/fp:fast=2', '/Qimf-precision=high', '/Qprec-sqrt', '/Qstd=c99', '/Qprotect-parens']
-        if sys.version_info < (3, 0):
-            eca.append('/Qprec-div')
-    else:
-        eca = ['-fp-model', 'fast=2', '-fimf-precision=high', '-prec-sqrt', '-fprotect-parens']
+    #if platform.system() == "Windows":
+    #    eca = ['/fp:fast=2', '/Qimf-precision=high', '/Qprec-sqrt', '/Qstd=c99', '/Qprotect-parens']
+    #    if sys.version_info < (3, 0):
+    #        eca.append('/Qprec-div')
+    #else:
+    #    eca = ['-fp-model', 'fast=2', '-fimf-precision=high', '-prec-sqrt', '-fprotect-parens']
+    eca=[]
     config.add_library('loops',
                        sources=loops_src,
                        include_dirs=[],
@@ -969,7 +970,7 @@ def configuration(parent_package='',top_path=None):
                                   generate_umath_c,
                                   generate_ufunc_api,
                                  ] + aligned_alloc_sources,
-                         extra_compile_args=['/Qstd=c99' if platform.system() == "Windows" else ''],
+                         extra_compile_args=[],
                          depends=deps + multiarray_deps + umath_deps +
                                 common_deps,
                          libraries=['loops', 'npymath', 'npysort', 'mkl_cp'],
-- 
2.20.1

